let isNight=!1,pageWidth=800,fontSize=18;function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}function listenScroll(){document.addEventListener("scroll",(function(){(window.scrollY||document.documentElement.scrollTop)>300?$(".top").show(200):$(".top").hide(200)}))}function toggleNight(){isNight=!isNight,changeNight()}function changeNight(){isNight?($(".article").removeClass().addClass("article night"),$(".right-nav-item .night").hide(),$(".right-nav-item .day").show(),$(".day-night-label").html("日间"),localStorage.setItem("isNight","true")):($(".article").removeClass().addClass("article"),$(".right-nav-item .night").show(),$(".right-nav-item .day").hide(),$(".day-night-label").html("夜间"),localStorage.removeItem("isNight")),$(".color-item").removeClass("active"),$(".color-item."+(isNight?"night":"light")).addClass("active")}function loadLocalSetting(){isNight=!!localStorage.getItem("isNight"),changeNight(),pageWidth=parseInt(localStorage.getItem("pageWidth")??"800"),changeWidth(pageWidth),fontSize=parseInt(localStorage.getItem("fontSize")??"18"),changeFontSize(0)}function changeTheme(t){if($(".color-item").removeClass("active"),$(`.color-item.${t}`).addClass("active"),"night"===t)isNight=!0,changeNight();else isNight=!1,changeNight()}function changeWidth(t){$(".page-width").removeClass("active"),$(`.page-width.w-${t}`).addClass("active"),document.documentElement.style.setProperty("--article-body-width",0===t?"80%":t+"px"),localStorage.setItem("pageWidth",t)}function changeFontSize(t){fontSize+=t,$(".font-size-input").html(fontSize),document.documentElement.style.setProperty("--article-font-size",fontSize+"px"),localStorage.setItem("fontSize",fontSize)}function openSetting(){$(".setting-box").toggle(200)}function listenDocumentClick(){$(document).click((function(t){0===$(t.target).closest(".setting-box,.right-nav-item").length&&$(".setting-box").hide(200)}))}$(document).ready((function(){listenScroll(),loadLocalSetting(),listenDocumentClick()}));