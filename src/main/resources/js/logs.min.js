var Logs={init:function(){Logs.connectWS(),Logs.more()},connectWS:function(){Logs.ws=new WebSocket(logsChannelURL),Logs.ws.onopen=function(){console.log("Connected to logs channel websocket.")},Logs.ws.onmessage=function(o){o=JSON.parse(o.data);"simple"===o.type&&Logs.prependLog(o.key1,o.key2,o.key3,o.data)},Logs.ws.onclose=function(){console.log("Disconnected to logs channel websocket.")},Logs.ws.onerror=function(o){console.log("ERROR",o)}},appendLog:function(o,n,e,s){o=Logs.sumResult(o,n,e,s);$("#logsContent").append(o)},prependLog:function(o,n,e,s){o=Logs.sumResult(o,n,e,s);$("#logsContent").prepend(o)},sumResult:function(o,n,e,s){var t='<div style="padding: 5px 0;font-size: 15px;">';return(t+='【 <span style="color: #696969">'+o+"</span> ")+('<span style="color: #708090">'+n+"</span> 】<br>")+('「<span style="color: #6A5ACD">'+e+"</span>」 ")+('<span style="color: #1E90FF">'+s+"</span> ")+"</div>"},page:1,more:function(){$.ajax({url:Label.servePath+"/logs/more?page="+Logs.page+"&pageSize=30",type:"GET",async:!1,success:function(o){0===o.code&&(0===(o=o.data).length?$("#loadMoreBtn").html("没有更多内容了"):o.forEach(o=>{Logs.appendLog(o.key1,o.key2,o.key3,o.data)}))}}),Logs.page++}};$(document).ready(function(){Logs.init()});