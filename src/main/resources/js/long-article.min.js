window.LongArticle={settings:{theme:"light",fontSize:18,width:900},init:function(){this.loadSettings(),this.bindEvents(),this.applySettings()},loadSettings:function(){var t=localStorage.getItem("longArticleSettings");if(t)try{this.settings=JSON.parse(t)}catch(t){console.error("Failed to parse settings",t)}},saveSettings:function(){localStorage.setItem("longArticleSettings",JSON.stringify(this.settings))},applySettings:function(){var t=document.body,e=document.querySelector(".long-article-container"),i=document.querySelector(".long-article-content");"night"===this.settings.theme?t.classList.add("night"):t.classList.remove("night"),i&&(i.style.fontSize=this.settings.fontSize+"px"),document.getElementById("fontSizeValue").textContent=this.settings.fontSize+"px",e&&(e.style.width=this.settings.width+"px"),document.documentElement.style.setProperty("--la-content-width",this.settings.width+"px")},bindEvents:function(){document.addEventListener("click",function(t){var e=document.getElementById("settingsPanel"),i=document.querySelector('.sidebar-item[onclick*="openSettings"]');e&&e.classList.contains("active")&&(e.contains(t.target)||i&&i.contains(t.target)||e.classList.remove("active"))})},openSettings:function(){var t=document.getElementById("settingsPanel");t&&t.classList.toggle("active")},setTheme:function(t){this.settings.theme=t,this.saveSettings(),this.applySettings();var e=document.querySelector(".theme-btn.light"),i=document.querySelector(".theme-btn.night");e&&e.classList.toggle("active","light"===t),i&&i.classList.toggle("active","night"===t)},setFontSize:function(t){var e=this.settings.fontSize+t;e>=12&&e<=32&&(this.settings.fontSize=e,this.saveSettings(),this.applySettings())},setWidth:function(t){this.settings.width=t,this.saveSettings(),this.applySettings(),document.querySelectorAll(".width-btn").forEach(function(e){var i=e.getAttribute("onclick").match(/\d+/);i&&parseInt(i[0])===t?e.classList.add("active"):e.classList.remove("active")})},toggleNight:function(){this.setTheme("night"===this.settings.theme?"light":"night")},scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})}};